!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.InfiniteLoading=e(require("react")):t.InfiniteLoading=e(t.react)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":o(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(7),u=function(t){function e(n,i,o){r(this,e),t.call(this,n),this.listener=i,this.context=o}return i(e,t),e}(s);t.exports=u},function(t,e,n){"use strict";function r(t,e,n,r,o,s,u,a){if(i(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,s,u,a],f=0;c=new Error(e.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(t){};t.exports=r},function(t,e,n){"use strict";var r={EventEmitter:n(6),EmitterSubscription:n(0)};t.exports=r},function(t,e,n){"use strict";"function"==typeof Symbol&&Symbol.iterator;t.exports=n(10)()},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}/*!
 * @license MIT
 * Event-driven, fully-controlled infinite scroll loading for React.
 * https://github.com/JasonBoy/react-infinite-loading
 */
Object.defineProperty(e,"__esModule",{value:!0}),e.TYPE=e.emitter=e.EventEmitter=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=n(4),l=r(c),f=n(3),p=r(f),d=e.EventEmitter=a.EventEmitter,h=e.emitter=new d,y=e.TYPE={INIT_LOADING:"IL_INIT_LOADING",LOADING:"  IL_LOADING",ALL_LOADED:"IL_ALL_LOADED",LOADING_FINISHED:"IL_LOADING_FINISHED",REINITIALIZE:"IL_REINITIALIZE"},b=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.scrollHandler=n.scrollHandler.bind(n),n.initHandler=n.initHandler.bind(n),n.clear=n.clear.bind(n),n.destroy=n.destroy.bind(n),n.reInitHandler=n.reInitHandler.bind(n),n.toggleLoadingDone=n.toggleLoadingDone.bind(n),n.initialLoad=n.props.initialLoad,n.emitter=n.props.emitter||h,n.state={loadingDone:!1},n}return s(e,t),u(e,[{key:"componentDidMount",value:function(){var t=this;this.initHandler(),this.reInitializeListener=this.emitter.addListener(y.REINITIALIZE,function(e){t.toggleLoadingDone(!1),t.reInitHandler(),e&&e()})}},{key:"componentWillUnmount",value:function(){this.clear(),this.destroy(),this.reInitializeListener.remove()}},{key:"reInitHandler",value:function(){this.clear(),this.destroy(),this.log("reinitialize loading..."),this.initHandler()}},{key:"initHandler",value:function(){var t=this;this.screenHeight=window.screen.availHeight,this.loading=!1,this.scale=1,this.offset=this.props.offset,this.delay=this.props.delay,this.allLoaded=!1,this.loadingFinishedListerner=this.emitter.addListener(y.LOADING_FINISHED,function(){t.loading=!1,t.log("loading done...")}),this.allLoadedListener=this.emitter.addListener(y.ALL_LOADED,function(){t.clear(),t.toggleLoadingDone(!0),t.log("all loaded...")}),window.addEventListener("scroll",this.scrollHandler,!1),this.initialLoad&&setTimeout(function(){t.log("init loading..."),t.toggleLoadingDone(!1),t.emitter.emit(y.INIT_LOADING)},this.delay)}},{key:"clear",value:function(){this.allLoaded=!0,this.loading=!1,window.removeEventListener("scroll",this.scrollHandler,!1)}},{key:"destroy",value:function(){this.loadingFinishedListerner.remove(),this.allLoadedListener.remove(),clearTimeout(this.waitTimer)}},{key:"scrollHandler",value:function(){var t=this;if(!this.loading&&!this.allLoaded){var e=this.loadingDom.getBoundingClientRect();this.screenHeight-e.bottom*this.scale>=this.offset&&(this.loading=!0,this.waitTimer=setTimeout(function(){t.log("loading..."),t.toggleLoadingDone(!1),t.emitter.emit(y.LOADING)},this.delay))}}},{key:"toggleLoadingDone",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({loadingDone:t})}},{key:"log",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"render",value:function(){var t=this,e={display:this.state.loadingDone?"none":"block"},n=this.props.className?" "+this.props.className:"";return l.default.createElement("div",{className:"infinite-loading"+n,style:e,ref:function(e){return t.loadingDom=e}},this.props.loader||this.props.children||"Loading...")}}]),e}(l.default.Component);b.defaultProps={offset:0,delay:0,initialLoad:!0},b.propTypes={className:p.default.string,offset:p.default.number,delay:p.default.number,initialLoad:p.default.bool,emitter:p.default.instanceOf(d),loader:p.default.oneOfType([p.default.string,p.default.node,p.default.element])},e.default=b},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=n(8),s=n(9),u=n(1),a=function(){function t(){r(this,t),this._subscriber=new o,this._currentSubscription=null}return t.prototype.addListener=function(t,e,n){return this._subscriber.addSubscription(t,new i(this._subscriber,e,n))},t.prototype.once=function(t,e,n){var r=this;return this.addListener(t,function(){r.removeCurrentListener(),e.apply(n,arguments)})},t.prototype.removeAllListeners=function(t){this._subscriber.removeAllSubscriptions(t)},t.prototype.removeCurrentListener=function(){this._currentSubscription||u(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.prototype.listeners=function(t){var e=this._subscriber.getSubscriptionsForType(t);return e?e.filter(s.thatReturnsTrue).map(function(t){return t.listener}):[]},t.prototype.emit=function(t){var e=this._subscriber.getSubscriptionsForType(t);if(e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o&&(this._currentSubscription=o,this.__emitToSubscription.apply(this,[o].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.prototype.__emitToSubscription=function(t,e){var n=Array.prototype.slice.call(arguments,2);t.listener.apply(t.context,n)},t}();t.exports=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e){r(this,t),this.subscriber=e}return t.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},t}();t.exports=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=function(){function t(){r(this,t),this._subscriptionsForType={},this._currentSubscription=null}return t.prototype.addSubscription=function(t,e){e.subscriber!==this&&i(!1),this._subscriptionsForType[t]||(this._subscriptionsForType[t]=[]);var n=this._subscriptionsForType[t].length;return this._subscriptionsForType[t].push(e),e.eventType=t,e.key=n,e},t.prototype.removeAllSubscriptions=function(t){void 0===t?this._subscriptionsForType={}:delete this._subscriptionsForType[t]},t.prototype.removeSubscription=function(t){var e=t.eventType,n=t.key,r=this._subscriptionsForType[e];r&&delete r[n]},t.prototype.getSubscriptionsForType=function(t){return this._subscriptionsForType[t]},t}();t.exports=o},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";var r=n(12),i=n(13),o=n(11);t.exports=function(){function t(t,e,n,r,s,u){u!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";function r(t,e,n,r,o,s,u,a){if(i(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,s,u,a],f=0;c=new Error(e.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(t){};t.exports=r}])});
//# sourceMappingURL=react-infinite-loading.min.js.map